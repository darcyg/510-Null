<html>

<head>
<meta http-equiv="Content-Type" content="text/html;">
<title>CONFIG_SET</title>
</head>

<body>

<p><font face="Arial" size="5">CONFIG_SET</font></p>
<p><font face="Arial" size="4">Description</font></p>
<blockquote>
	<p><font face="Arial">Upload the device configuration file to the device's 
	flash. Then, the device will be rebooted.</font></p>
	<p><font face="Arial">There are two formats of HTTP form with this URL 
	command. One is the <a href="#format1">general format</a> applied to most of 
	devices. The <a href="#format2">other one</a> is only used in the 
	Multi-Channel Encoders. These two formats are described below.</font></p>
	<p><i><u><font face="Arial" size="4"><a name="format1"></a>1.General Format</font></u></i></p>
	<p><font face="Arial">The format of this URL http://172.16.3.14/cgi-bin/update?USER=Admin&amp;PWD=123456&amp;CONFIG_SET is listed below.</font></p>
	<p><b><font face="Arial">Stage 1: Send this URL to the device for 
	configuration file 
	upload</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">GET /cgi-bin/update?USER=admin&amp;PWD=123456&amp;CONFIG_SET 
		HTTP/1.1 <br>
		Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, 
		application/x-shockwave-flash, application/vnd.ms-excel, application/vnd.ms-powerpoint, 
		application/msword, */* <br>
		Accept-Language: zh-tw <br>
		Accept-Encoding: gzip, deflate <br>
		User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1) <br>
		Host: 172.16.3.14 <br>
		Connection: Keep-Alive</span></font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p>
		<img border="0" src="images/firmware_vs_get.bmp" width="609" height="351"></p>
	</blockquote>
	<p><b><font face="Arial">Stage 2 : Device reply the URL</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#0000FF">
		<span style="background-color: #C0C0C0">HTTP/1.0 200 OK <br>
		Content-type: text/html <br>
		<br>
		&lt;html&gt;&lt;head&gt;&lt;title&gt;UPLOAD FILES&lt;/title&gt;&lt;/head&gt;<br>
		&lt;meta http-equiv=&quot;PRAGMA&quot; content=&quot;NO-CACHE&quot;&gt;&lt;body&gt;<br>
		&lt;form name=&quot;UPLOAD_FORM&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; 
		action=&quot;update?CONFIG_SAVE&quot;&gt;<br>
		CONFIG : &lt;input type=&quot;FILE&quot; name=&quot;CONFIG_FILE&quot; value=&quot;&quot; size=&quot;40&quot;&gt;<br>
		&lt;br&gt;<br>
		&lt;input type=&quot;submit&quot; value=&quot;Apply&quot; name=&quot;URL_FIRMWARE_SUBMIT&quot;&gt;<br>
		&lt;input type=&quot;reset&quot; value=&quot;Reset&quot; name=&quot;URL_FIRMWARE_RESET&quot;&gt;<br>
		&lt;br&gt;<br>
		&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</span></font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p>
		<img border="0" src="images/config_set_vs_reply.bmp" width="532" height="331"></p>
	</blockquote>
	<p><b><font face="Arial">Stage 3: Upload the image file to device and get 
	the return code</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">POST /cgi-bin/update?CONFIG_SAVE 
		HTTP/1.1 <br>
		Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, 
		application/x-shockwave-flash, application/vnd.ms-excel, application/vnd.ms-powerpoint, 
		application/msword, */* <br>
		Referer: http://172.16.3.14/cgi-bin/update?USER=admin&amp;PWD=123456&amp;CONFIG_SET
		<br>
		Accept-Language: zh-tw <br>
		Content-Type: multipart/form-data; 
		boundary=---------------------------7d83b918e205b8 <br>
		Accept-Encoding: gzip, deflate <br>
		User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1) <br>
		Host: 172.16.3.14 <br>
		Content-Length: 4855 <br>
		Connection: Keep-Alive <br>
		Cache-Control: no-cache <br>
		<br>
		-----------------------------7d83b918e205b8 <br>
		Content-Disposition: form-data; name=&quot;CONFIG_FILE&quot;; 
		filename=&quot;C:\Documents and Settings\MingYoung.You\My Documents\update.txt&quot;
		<br>
		Content-Type: text/plain <br>
		<br>
		WAN_TYPE='1' <br>
		WAN_IP='192.168.0.100' <br>
		WAN_NETMASK='255.255.255.0' <br>
		WAN_GATEWAY='192.168.0.254' <br>
		WAN_PPPOE_USERNAME='' <br>
		WAN_PPPOE_PASSWORD='' <br>
		SPEED_WAN='0'</span></font></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">....................................................................</span></font></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">ACTIVEX_URL='' <br>
		<br>
		-----------------------------7d83b918e205b8 <br>
		Content-Disposition: form-data; name=&quot;URL_FIRMWARE_SUBMIT&quot; <br>
		<br>
		Apply <br>
		-----------------------------7d83b918e205b8--</span></font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p>
		<img border="0" src="images/config_set_vs_get.bmp" width="533" height="753"></p>
	</blockquote>
	<p><b><font face="Arial">Stage 4: device reply this URL</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#0000FF">
		<span style="background-color: #C0C0C0">HTTP/1.0 200 OK <br>
		Content-type: text/plain <br>
		Content-Length: 3 <br>
		<br>
		OK</span></font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p><img border="0" src="images/ok_reply.bmp" width="534" height="66"></p>
	</blockquote>
	<p><i><u><font face="Arial" size="4"><a name="format2"></a>2.Form Format 
	used in the Multi-Channel Encoder</font></u></i></p>
	<p align="left"><font face="Arial">If the CHANNEL=n was not set with this URL to the 
	Multi-Channel device, the router's configuration will be saved to its flash.&nbsp; 
	Otherwise, the channel n video server's configuration will be saved </font>
	</p>
	<p><font face="Arial">The format of this URL http://172.16.3.21/cgi-bin/update?USER=Admin&amp;PWD=123456&amp;CONFIG_SET is listed below.</font></p>
	<p><b><font face="Arial">Stage 1: Send this URL to the device for image and 
	MD5 file 
	upload</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">GET /cgi-bin/update?USER=admin&amp;PWD=123456&amp;CONFIG_SET 
		HTTP/1.1 <br>
		Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, 
		application/x-shockwave-flash, application/vnd.ms-excel, application/vnd.ms-powerpoint, 
		application/msword, */* <br>
		Accept-Language: zh-tw <br>
		Accept-Encoding: gzip, deflate <br>
		User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1) <br>
		Host: 172.16.3.21 <br>
		Connection: Keep-Alive</span></font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p>
		<img border="0" src="images/config_set_router_get.bmp" width="532" height="285"></p>
	</blockquote>
	<p><b><font face="Arial">Stage 2 : Device reply the URL</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#0000FF">
		<span style="background-color: #C0C0C0">HTTP/1.0 200 OK <br>
		Content-type: text/html <br>
		<br>
		&lt;html&gt;&lt;head&gt;&lt;title&gt;UPLOAD FILES&lt;/title&gt;&lt;/head&gt;<br>
		&lt;meta http-equiv=&quot;PRAGMA&quot; content=&quot;NO-CACHE&quot;&gt;&lt;body&gt;<br>
		&lt;form name=&quot;FrmConf&quot; method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; 
		action=&quot;update?ConfSet00&quot;&gt;<br>
		Config File : &lt;input type=&quot;FILE&quot; name=&quot;CONFIG_FILE&quot; value=&quot;&quot; size=&quot;60&quot;&gt;&lt;br&gt;<br>
		&lt;input type=&quot;submit&quot; value=&quot;Apply&quot; name=&quot;URL_FIRMWARE_SUBMIT&quot; &gt;<br>
		&lt;input type=&quot;reset&quot; value=&quot;Reset&quot; name=&quot;URL_FIRMWARE_RESET&quot; &gt;&lt;br&gt;<br>
		&lt;/form&gt;&lt;/body&gt;&lt;/html&gt;</span></font></p>
		<p><font face="Arial"><span style="font-weight: 700">Note: </span>The 
		action string update?ConfigSet00 indicates this is the CONFIG_SET URL 
		for router. The rule of this mapping 
		is </font></p>
		<p><font face="Arial">ConfigSetnn</font><br>
		<font face="Arial">where</font><br>
		<font face="Arial">nn : the indication of the router, a video server 
		or all video servers. </font><br>
		<font face="Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 00 : router, </font><br>
		<font face="Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;= : Maximum Channel : the 
		channel nn video server, </font><br>
		<font face="Arial">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&nbsp;&nbsp; : Maximum Channel + 1 : 
		All video servers.</font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p>
		<img border="0" src="images/config_set_router_reply.bmp" width="532" height="329"></p>
	</blockquote>
	<p><b><font face="Arial">Stage 3: Upload the image file to device and get 
	the return code</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">POST /cgi-bin/update?ConfSet00 
		HTTP/1.1 <br>
		Accept: image/gif, image/x-xbitmap, image/jpeg, image/pjpeg, 
		application/x-shockwave-flash, application/vnd.ms-excel, application/vnd.ms-powerpoint, 
		application/msword, */* <br>
		Referer: http://172.16.3.21/cgi-bin/update?USER=admin&amp;PWD=123456&amp;CONFIG_SET
		<br>
		Accept-Language: zh-tw <br>
		Content-Type: multipart/form-data; 
		boundary=---------------------------7d835b156e0708 <br>
		Accept-Encoding: gzip, deflate <br>
		User-Agent: Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1) <br>
		Host: 172.16.3.21 <br>
		Content-Length: 2711 <br>
		Connection: Keep-Alive <br>
		Cache-Control: no-cache <br>
		<br>
		-----------------------------7d835b156e0708 <br>
		Content-Disposition: form-data; name=&quot;CONFIG_FILE&quot;; 
		filename=&quot;C:\Documents and Settings\MingYoung.You\My Documents\update.txt&quot;
		<br>
		Content-Type: text/plain <br>
		<br>
		WAN_TYPE='1' <br>
		SPEED_WAN='0' <br>
		WAN_IP='192.168.0.100' <br>
		WAN_NETMASK='255.255.255.0' <br>
		WAN_GATEWAY='192.168.0.254' <br>
		WAN_PPPOE_USERNAME='' <br>
		WAN_PPPOE_PASSWORD=''</span></font></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">....................................................................</span></font></p>
		<p><font face="Arial" color="#FF0000">
		<span style="background-color: #C0C0C0">###End <br>
		<br>
		-----------------------------7d835b156e0708 <br>
		Content-Disposition: form-data; name=&quot;URL_FIRMWARE_SUBMIT&quot; <br>
		<br>
		Apply <br>
		-----------------------------7d835b156e0708--</span></font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p>
		<img border="0" src="images/config_set_router.bmp" width="533" height="839"></p>
	</blockquote>
	<p><b><font face="Arial">Stage 4: device reply this URL</font></b></p>
	<blockquote>
		<p><u><i><font face="Arial">ASCII FORMAT</font></i></u></p>
		<p><font face="Arial" color="#0000FF">
		<span style="background-color: #C0C0C0">HTTP/1.0 200 OK <br>
		Content-type: text/plain <br>
		Content-Length: 3 <br>
		<br>
		OK</span></font></p>
		<p><u><i><font face="Arial">Hex Dump Format</font></i></u></p>
		<p><img border="0" src="images/ok_reply.bmp" width="534" height="66"></p>
	</blockquote>
</blockquote>

<p><font size="4" face="Arial">Input Argument</font></p>
<blockquote>
	<p><font face="Arial">None</font></p>
</blockquote>
<p><font face="Arial" size="4">Attribute</font></p>
<ul>
	<li><font face="Arial">Write Only</font></li>
</ul>
<p><font face="Arial" size="4">Return of Message</font></p>
<ul>
	<li>
	<font face="Arial">Write</font><font face="Arial" size="3"> Operation</font></li>
</ul>
<blockquote>
	<font face="Arial">OK</font><br>
	<font face="Arial">or</font><br>
	<font face="Arial">ERROR: config image</font><br>
</blockquote>
<p><font size="4" face="Arial">Applicability</font></p>
<ul>
	<li><font face="Arial">WPL Platform : All Encoder Devices</font></li>
	<li><font face="Arial">EPL Platform : All Encoder Devices</font></li>
	<li><font face="Arial">PlatfotmT : All Encoder Devices</font></li>
	<li><font face="Arial">Multi-Channel Encoder : Router Only</font></li>
</ul>
<p><font face="Arial"><font size="4">Status</font></font></p>
<blockquote>
	<p><font face="Arial">Valid</font></p>
</blockquote>
<p><font face="Arial"><font size="4">See Also</font></font></p>
<blockquote>
	<p><font face="Arial"><a href="ConfigGet.htm">CONFIG_GET</a>, 
	<a href="firmwre.htm">FIRMWARE</a>, <a href="firmware_all.htm">FIRMWARE_ALL</a>, 
	<a href="profile.htm">PROFILE</a>, <a href="ProfilePack.htm">PROFILE_PACK</a></font></p>
</blockquote>
<p><font face="Arial"><font size="4">Example</font></font></p>
<ul>
	<li><font face="Arial">Write Operation</font></li>
</ul>
<blockquote>
	<font face="Arial">http://ip:port/cgi-bin/update?USER=Admin&amp;PWD=123456&amp;CONFIG_SET</font><br>
	<font face="Arial">or</font><br>
	<font face="Arial">http://ip:port/cgi-bin/update?USER=Admin&amp;PWD=123456&amp;CHANNEL=n&amp;CONFIG_SET 
	(for CHANNEL=n video server in the Multi-Channel Encoder)</font>
</blockquote>

<p><font face="Arial" size="4">Back to</font></p>
<blockquote>
	<p><font face="Arial"><a href="../index.htm">HOME</a>,
	<a href="update.htm">UPDATE CGI</a></font></p>
</blockquote>

</body>

</html>